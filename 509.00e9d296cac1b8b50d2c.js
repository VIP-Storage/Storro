"use strict";(self.webpackChunkstorro=self.webpackChunkstorro||[]).push([[509],{7509:(ae,P,o)=>{o.r(P),o.d(P,{ClientPagesModule:()=>ne});var l=o(8583),t=o(7716),R=o(9075);let b=(()=>{class n{constructor(e){this._title=e}set title(e){this.updateTitle(e)}get title(){return this._title.getTitle().split("|")[1]}updateTitle(e){this._title.setTitle(e&&e.length?`Storro | ${e}`:"Storro")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R.Dx))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=o(6215),Z=o(3342),w=o(4331),v=o(4929),S=o(4885);let k=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-loading-shade"]],decls:1,vars:0,consts:[["diameter","22"]],template:function(e,i){1&e&&t._UZ(0,"mat-spinner",0)},directives:[S.$g],styles:["[_nghost-%COMP%]{display:flex;position:absolute;top:0;bottom:0;left:0;right:0;justify-content:center;align-items:center}"]}),n})();var D=o(5435),c=(()=>{return(n=c||(c={})).DOOR="Door",n.HUMIDITY="Humidity",n.TEMP="Temperature",n.STATE="State",c;var n})(),p=(()=>{return(n=p||(p={})).HUMIDITY="Humidity",n.TEMPERATURE="Temperature",p;var n})(),u=o(7238),g=o(3738),M=o(2458),C=o(1552),_=o(8590);function j(n,a){if(1&n&&(t.TgZ(0,"mat-icon",4),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("matTooltip",i.title(e)),t.xp6(1),t.Oqu(e.icon)}}function z(n,a){if(1&n&&(t.TgZ(0,"span",5),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Oqu(i.title(e))}}function $(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().click(s)}),t.YNc(1,j,2,2,"mat-icon",2),t.YNc(2,z,2,1,"span",3),t.qZA()}if(2&n){const e=a.$implicit,i=t.oxw();t.ekj("selected",i.isSelected(e)),t.xp6(1),t.Q6J("ngIf",i.hasIcon(e)),t.xp6(1),t.Q6J("ngIf",!i.hasIcon(e))}}let X=(()=>{class n{constructor(){this.reversed=!1,this.selectedChange=new t.vpe,this._options=[]}set options(e){e&&e[0]&&(this._options=e,this.selected=e[0])}get options(){return this._options}set selected(e){e&&(this._selected=e)}ngOnInit(){}hasIcon(e){return!!e.icon}title(e){return e.text&&e.text.length>0?e.text:`${e.value}`}isSelected(e){return!!this._selected&&e.value===this._selected.value}click(e){this.selected=e,this.selectedChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-toggle-button"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("reversed",i.reversed)},inputs:{reversed:"reversed",options:"options",selected:"selected"},outputs:{selectedChange:"selectedChange"},decls:1,vars:1,consts:[["class","toggle-option","matRipple","",3,"selected","click",4,"ngFor","ngForOf"],["matRipple","",1,"toggle-option",3,"click"],[3,"matTooltip",4,"ngIf"],["class","toggle-text",4,"ngIf"],[3,"matTooltip"],[1,"toggle-text"]],template:function(e,i){1&e&&t.YNc(0,$,3,4,"div",0),2&e&&t.Q6J("ngForOf",i.options)},directives:[l.sg,M.wG,l.O5,C.Hw,_.gM],styles:["[_nghost-%COMP%]{border-radius:16px;overflow:hidden;display:flex}.reversed[_nghost-%COMP%]{flex-direction:row-reverse}.toggle-option[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:5px 8px;min-width:35px}.toggle-option[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();var A=o(6401),x=o(5917),I=o(1289);const G={unit:"%",name:"Humidity",values:[{date:new Date("2021-09-12T21:46:52.000-05:00"),value:84},{date:new Date("2022-07-27T20:34:11.000-05:00"),value:52.1},{date:new Date("2021-11-18T07:01:29.000-06:00"),value:79},{date:new Date("2021-04-29T07:11:54.000-05:00"),value:73.7},{date:new Date("2021-04-11T08:39:15.000-05:00"),value:77.7},{date:new Date("2021-01-14T21:55:43.000-06:00"),value:104.3},{date:new Date("2022-06-12T11:38:15.000-05:00"),value:88.9},{date:new Date("2021-10-22T23:54:03.000-05:00"),value:66.1},{date:new Date("2021-02-17T18:08:09.000-06:00"),value:59.5},{date:new Date("2022-03-26T04:39:04.000-05:00"),value:76.7},{date:new Date("2022-05-30T13:14:46.000-05:00"),value:14.1},{date:new Date("2021-10-27T11:49:53.000-05:00"),value:56},{date:new Date("2021-01-10T13:27:15.000-06:00"),value:70.9},{date:new Date("2021-03-31T15:25:14.000-05:00"),value:85.8},{date:new Date("2022-05-15T12:19:58.000-05:00"),value:75.5},{date:new Date("2020-11-24T04:47:29.000-06:00"),value:88.6},{date:new Date("2022-07-20T11:30:02.000-05:00"),value:39.6},{date:new Date("2022-03-19T18:25:44.000-05:00"),value:102.6},{date:new Date("2021-08-26T03:10:31.000-05:00"),value:84.9},{date:new Date("2020-11-10T06:57:30.000-06:00"),value:87.5},{date:new Date("2022-02-05T18:37:17.000-06:00"),value:63.3},{date:new Date("2022-06-23T18:35:43.000-05:00"),value:37.1},{date:new Date("2022-05-14T20:47:28.000-05:00"),value:82.3},{date:new Date("2021-04-08T08:23:01.000-05:00"),value:46.7},{date:new Date("2022-09-23T09:39:47.000-05:00"),value:48},{date:new Date("2021-08-05T17:52:06.000-05:00"),value:88},{date:new Date("2022-08-23T02:08:51.000-05:00"),value:58.7},{date:new Date("2021-10-08T17:32:19.000-05:00"),value:107.9},{date:new Date("2021-09-18T00:33:47.000-05:00"),value:72.6},{date:new Date("2021-05-03T06:23:13.000-05:00"),value:82.4},{date:new Date("2022-01-21T02:13:55.000-06:00"),value:101},{date:new Date("2020-12-01T12:00:20.000-06:00"),value:97.4},{date:new Date("2022-09-18T04:33:35.000-05:00"),value:64.7},{date:new Date("2020-12-18T08:20:23.000-06:00"),value:100.1},{date:new Date("2022-04-28T23:58:25.000-05:00"),value:115.5},{date:new Date("2020-11-13T01:10:21.000-06:00"),value:99.7},{date:new Date("2021-10-08T08:18:08.000-05:00"),value:103.6},{date:new Date("2022-02-25T12:24:41.000-06:00"),value:67.9},{date:new Date("2022-09-05T13:06:15.000-05:00"),value:76.9},{date:new Date("2022-04-01T10:35:46.000-05:00"),value:56.6},{date:new Date("2021-10-28T17:38:46.000-05:00"),value:74.1},{date:new Date("2020-12-13T09:10:41.000-06:00"),value:61.7},{date:new Date("2021-09-19T11:54:21.000-05:00"),value:146.2},{date:new Date("2021-09-24T16:20:04.000-05:00"),value:70.2},{date:new Date("2021-05-03T16:57:55.000-05:00"),value:71.9},{date:new Date("2022-08-21T01:11:10.000-05:00"),value:54.7},{date:new Date("2020-12-08T23:48:43.000-06:00"),value:88.2},{date:new Date("2022-07-03T14:05:37.000-05:00"),value:59.1},{date:new Date("2021-08-12T22:37:00.000-05:00"),value:76.1},{date:new Date("2021-10-19T22:01:33.000-05:00"),value:49.8},{date:new Date("2021-05-24T01:12:20.000-05:00"),value:50.1},{date:new Date("2021-04-25T08:39:02.000-05:00"),value:81.7},{date:new Date("2022-06-28T19:21:22.000-05:00"),value:89.5},{date:new Date("2022-06-15T04:13:23.000-05:00"),value:98.6},{date:new Date("2020-11-02T20:56:02.000-06:00"),value:15.5},{date:new Date("2021-08-30T07:25:27.000-05:00"),value:96.1},{date:new Date("2021-03-22T04:57:14.000-05:00"),value:68.6},{date:new Date("2022-06-02T02:47:48.000-05:00"),value:104.8},{date:new Date("2022-09-16T11:21:53.000-05:00"),value:58.3},{date:new Date("2022-04-26T17:34:40.000-05:00"),value:63.2},{date:new Date("2021-05-11T20:42:10.000-05:00"),value:60.6},{date:new Date("2022-07-10T17:03:22.000-05:00"),value:87.5},{date:new Date("2022-05-20T16:19:52.000-05:00"),value:10.4},{date:new Date("2021-09-14T10:18:07.000-05:00"),value:82.1},{date:new Date("2021-12-15T09:29:23.000-06:00"),value:6.9},{date:new Date("2021-06-07T14:53:25.000-05:00"),value:80.9},{date:new Date("2021-08-28T17:46:21.000-05:00"),value:57.5},{date:new Date("2021-09-27T17:42:28.000-05:00"),value:36.5},{date:new Date("2020-11-08T13:12:44.000-06:00"),value:79.2},{date:new Date("2022-05-18T16:47:39.000-05:00"),value:66.5},{date:new Date("2021-12-30T06:39:35.000-06:00"),value:134.1},{date:new Date("2021-02-23T19:05:22.000-06:00"),value:45.8},{date:new Date("2022-01-13T10:24:09.000-06:00"),value:60.4},{date:new Date("2021-01-07T05:13:50.000-06:00"),value:79.4},{date:new Date("2022-09-07T13:18:35.000-05:00"),value:77.9},{date:new Date("2021-08-10T16:21:10.000-05:00"),value:87.7},{date:new Date("2021-03-08T21:38:23.000-06:00"),value:119.9},{date:new Date("2022-04-23T23:03:12.000-05:00"),value:83},{date:new Date("2021-09-16T15:28:42.000-05:00"),value:124.1},{date:new Date("2021-11-22T23:14:45.000-06:00"),value:62.5},{date:new Date("2021-02-02T05:39:24.000-06:00"),value:81.2},{date:new Date("2020-11-17T08:22:21.000-06:00"),value:95.5},{date:new Date("2021-03-22T14:37:56.000-05:00"),value:48.3},{date:new Date("2020-12-14T11:24:46.000-06:00"),value:67.3},{date:new Date("2021-04-04T23:44:13.000-05:00"),value:86.9},{date:new Date("2021-07-15T15:15:57.000-05:00"),value:90.4},{date:new Date("2020-11-04T00:46:16.000-06:00"),value:82.7},{date:new Date("2022-03-19T03:44:54.000-05:00"),value:92.1},{date:new Date("2021-01-26T05:34:41.000-06:00"),value:103.5},{date:new Date("2020-10-31T21:43:03.000-05:00"),value:71.4},{date:new Date("2021-08-03T09:45:11.000-05:00"),value:98},{date:new Date("2022-01-21T17:34:15.000-06:00"),value:76.6},{date:new Date("2021-07-12T04:55:09.000-05:00"),value:55.9},{date:new Date("2022-07-28T17:41:35.000-05:00"),value:101.1},{date:new Date("2020-10-19T18:58:50.000-05:00"),value:109.1},{date:new Date("2022-10-18T14:52:46.000-05:00"),value:39.2},{date:new Date("2022-06-16T10:29:08.000-05:00"),value:53},{date:new Date("2021-07-17T01:23:29.000-05:00"),value:59.4},{date:new Date("2021-02-28T15:36:30.000-06:00"),value:82.8},{date:new Date("2020-12-26T15:51:33.000-06:00"),value:46.7}]},K={unit:"F",name:"Temperature",values:[{date:new Date("2021-11-08T04:11:32.000-06:00"),value:89.1},{date:new Date("2021-05-05T20:52:20.000-05:00"),value:80},{date:new Date("2021-12-11T09:28:43.000-06:00"),value:58.1},{date:new Date("2021-12-31T04:12:42.000-06:00"),value:93.8},{date:new Date("2021-06-27T21:23:09.000-05:00"),value:107.8},{date:new Date("2022-06-27T11:55:22.000-05:00"),value:59.2},{date:new Date("2022-09-15T08:44:46.000-05:00"),value:84.3},{date:new Date("2021-08-01T02:40:02.000-05:00"),value:93},{date:new Date("2021-06-30T06:15:45.000-05:00"),value:77.8},{date:new Date("2021-08-27T23:15:38.000-05:00"),value:84.7},{date:new Date("2021-02-07T20:38:12.000-06:00"),value:124.6},{date:new Date("2022-07-14T23:23:22.000-05:00"),value:71.6},{date:new Date("2021-04-11T10:58:15.000-05:00"),value:48.4},{date:new Date("2022-01-04T23:04:20.000-06:00"),value:104.8},{date:new Date("2021-03-05T09:57:30.000-06:00"),value:100.6},{date:new Date("2021-06-13T15:51:21.000-05:00"),value:77.3},{date:new Date("2020-12-02T19:49:38.000-06:00"),value:95.1},{date:new Date("2021-08-19T07:55:51.000-05:00"),value:110.3},{date:new Date("2020-12-05T05:20:58.000-06:00"),value:96},{date:new Date("2020-12-31T07:13:36.000-06:00"),value:97.3},{date:new Date("2021-01-10T21:18:33.000-06:00"),value:100.5},{date:new Date("2021-11-11T22:56:25.000-06:00"),value:98.1},{date:new Date("2022-06-15T07:30:16.000-05:00"),value:59.3},{date:new Date("2022-03-19T17:26:20.000-05:00"),value:89.3},{date:new Date("2022-04-03T21:26:02.000-05:00"),value:120.1},{date:new Date("2021-10-03T23:34:51.000-05:00"),value:106.1},{date:new Date("2022-10-09T19:09:06.000-05:00"),value:51.2},{date:new Date("2022-03-13T19:22:27.000-05:00"),value:101},{date:new Date("2020-12-29T21:26:53.000-06:00"),value:61.5},{date:new Date("2020-11-06T21:56:43.000-06:00"),value:81.6},{date:new Date("2022-01-12T23:21:16.000-06:00"),value:43.1},{date:new Date("2021-04-06T11:59:33.000-05:00"),value:80.7},{date:new Date("2021-06-21T09:59:13.000-05:00"),value:105.7},{date:new Date("2022-05-15T19:32:29.000-05:00"),value:92.2},{date:new Date("2022-08-23T06:28:13.000-05:00"),value:76.1},{date:new Date("2021-07-09T03:18:57.000-05:00"),value:63.2},{date:new Date("2022-07-28T06:49:35.000-05:00"),value:86.7},{date:new Date("2021-03-31T04:44:30.000-05:00"),value:23.4},{date:new Date("2022-06-30T12:10:43.000-05:00"),value:97.2},{date:new Date("2021-06-11T18:38:43.000-05:00"),value:113.3},{date:new Date("2020-12-22T11:31:49.000-06:00"),value:109.2},{date:new Date("2021-04-15T11:11:23.000-05:00"),value:117.1},{date:new Date("2021-12-28T11:11:34.000-06:00"),value:78.8},{date:new Date("2021-12-25T14:31:13.000-06:00"),value:92.9},{date:new Date("2021-05-14T15:27:29.000-05:00"),value:35.4},{date:new Date("2021-06-16T07:44:36.000-05:00"),value:47.4},{date:new Date("2022-06-02T03:45:41.000-05:00"),value:67.8},{date:new Date("2021-11-22T03:48:36.000-06:00"),value:29.1},{date:new Date("2022-02-09T22:08:13.000-06:00"),value:80.5},{date:new Date("2022-09-29T08:50:11.000-05:00"),value:90.5},{date:new Date("2021-11-18T17:16:49.000-06:00"),value:92.3},{date:new Date("2022-03-19T04:12:37.000-05:00"),value:81.9},{date:new Date("2022-02-02T00:54:43.000-06:00"),value:92.7},{date:new Date("2021-07-03T18:26:12.000-05:00"),value:41.1},{date:new Date("2022-08-09T06:51:03.000-05:00"),value:79.7},{date:new Date("2022-03-16T10:30:49.000-05:00"),value:59.5},{date:new Date("2021-04-26T09:28:21.000-05:00"),value:65.8},{date:new Date("2021-07-19T17:36:39.000-05:00"),value:68.4},{date:new Date("2022-03-11T02:27:12.000-06:00"),value:41.9},{date:new Date("2021-06-02T21:33:28.000-05:00"),value:104.9},{date:new Date("2020-10-29T04:42:02.000-05:00"),value:96.8},{date:new Date("2022-04-11T03:15:56.000-05:00"),value:98.7},{date:new Date("2021-07-17T01:17:24.000-05:00"),value:112.1},{date:new Date("2021-03-02T12:28:40.000-06:00"),value:95.1},{date:new Date("2021-06-06T19:01:13.000-05:00"),value:65.7},{date:new Date("2022-05-17T12:01:51.000-05:00"),value:87.3},{date:new Date("2021-01-15T09:12:13.000-06:00"),value:94.1},{date:new Date("2020-11-02T21:17:28.000-06:00"),value:23.9},{date:new Date("2021-06-27T16:19:13.000-05:00"),value:43.2},{date:new Date("2021-08-19T12:31:32.000-05:00"),value:69.1},{date:new Date("2021-03-30T01:06:47.000-05:00"),value:69.7},{date:new Date("2021-02-04T18:06:07.000-06:00"),value:85.9},{date:new Date("2021-05-14T00:13:43.000-05:00"),value:87.2},{date:new Date("2022-06-17T20:55:11.000-05:00"),value:90.1},{date:new Date("2022-10-03T17:11:26.000-05:00"),value:89.1},{date:new Date("2022-07-08T16:42:30.000-05:00"),value:92.2},{date:new Date("2022-06-26T05:47:52.000-05:00"),value:76.5},{date:new Date("2022-07-31T04:04:05.000-05:00"),value:35.3},{date:new Date("2022-05-30T05:10:28.000-05:00"),value:96.7},{date:new Date("2021-07-30T17:12:03.000-05:00"),value:85.6},{date:new Date("2021-10-20T09:41:15.000-05:00"),value:85},{date:new Date("2021-07-14T18:34:34.000-05:00"),value:76.5},{date:new Date("2022-02-18T12:11:47.000-06:00"),value:60.7},{date:new Date("2021-12-15T06:57:08.000-06:00"),value:88.8},{date:new Date("2022-02-28T03:01:02.000-06:00"),value:44.1},{date:new Date("2021-01-24T06:16:10.000-06:00"),value:115.5},{date:new Date("2021-09-16T11:10:00.000-05:00"),value:31.3},{date:new Date("2021-10-23T18:11:36.000-05:00"),value:70.4},{date:new Date("2021-10-06T04:48:34.000-05:00"),value:113.3},{date:new Date("2020-12-01T21:09:12.000-06:00"),value:56.3},{date:new Date("2022-01-01T09:38:58.000-06:00"),value:64.7},{date:new Date("2022-08-05T19:18:44.000-05:00"),value:109.2},{date:new Date("2021-01-13T02:13:51.000-06:00"),value:85.7},{date:new Date("2022-03-18T17:10:38.000-05:00"),value:127.9},{date:new Date("2021-12-19T07:49:03.000-06:00"),value:112.1},{date:new Date("2022-09-15T14:48:43.000-05:00"),value:78},{date:new Date("2021-10-16T12:23:45.000-05:00"),value:47.9},{date:new Date("2021-12-04T23:15:20.000-06:00"),value:62.1},{date:new Date("2021-06-28T08:38:41.000-05:00"),value:67.5},{date:new Date("2021-12-08T04:34:16.000-06:00"),value:126.4}]},E=(n,a)=>{let e=[];const i=n.slice();for(let r=0;r<a;r++){const s=Math.ceil(10*Math.random())%i.length;e.push(i.splice(s,1)[0])}return e};let tt=(()=>{class n{constructor(){}getChartData(e,i){switch(i){case p.HUMIDITY:return this.getHumidityChartData(e);case p.TEMPERATURE:return this.getTemperatureChartData(e)}}getHumidityChartData(e){return n.getHumidityChartDemoData(e)}getTemperatureChartData(e){return n.getTemperatureChartDemoData(e)}static getHumidityChartDemoData(e){return(0,x.of)((n=>{console.log("DEMO > Fetching humidity demo data for unit",n);const a=G;return a.values=E(a.values.sort((e,i)=>e.date.getDate()-i.date.getDate()),20),a})(e)).pipe((0,I.g)(150))}static getTemperatureChartDemoData(e){return(0,x.of)((n=>{console.log("DEMO > Fetching demo temperature data for unit",n);const a=K;return a.values=E(a.values.sort((e,i)=>e.date.getDate()-i.date.getDate()),20),a})(e)).pipe((0,I.g)(150))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function et(n,a){if(1&n&&t._uU(0),2&n){const e=a.model,i=t.oxw();t.AsE(" ",e[0].value,"",i.measurementUnit," ")}}let H=(()=>{class n{constructor(e){this.sensorsService=e,this.chartData=[],this.data=new f.X(null),this._domain=[],this.data.pipe((0,D.h)(i=>!!i)).subscribe(i=>this.parseData(i))}set type(e){e&&(this._type=e,this.applyChartScheme(e),this.fetchData())}set unit(e){e&&(this._unit=e,this.fetchData())}get title(){return this._type.toString().toLowerCase()}ngOnInit(){}getTooltipText(e){return`${"max"===e?"Maximum":"Minimum"} ${this.title}`}fetchData(){!this._unit||!this._type||this.sensorsService.getChartData(this._unit,this._type).subscribe(this.data)}parseData(e){const i=Math.min.apply(null,e.values.map(s=>s.value)),r=Math.max.apply(null,e.values.map(s=>s.value));this.measurementUnit=e.unit,this.minValue=`${i}${e.unit}`,this.maxValue=`${r}${e.unit}`,this._domain=e.values.map(s=>s.value),this.chartData=[{name:e.name,series:[...e.values.map(s=>({value:`${s.value}`,name:s.date.toDateString()}))]}]}applyChartScheme(e){switch(e){case p.TEMPERATURE:this.chartScheme=A.G5.find(i=>"neons"===i.name);break;case p.HUMIDITY:this.chartScheme=A.G5.find(i=>"horizon"===i.name)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-unit-chart"]],inputs:{type:"type",unit:"unit"},decls:19,vars:14,consts:[[1,"chart-meta"],[1,"chart-title"],[1,"chart-wrapper"],[3,"results","autoScale","scheme"],["seriesTooltipTemplate",""],[1,"chart-details"],["matTooltipPosition","below",1,"chart-measurement",3,"matTooltip"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"ngx-charts-line-chart",3),t.YNc(6,et,1,2,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.ALo(10,"titlecase"),t.TgZ(11,"mat-icon"),t._uU(12,"arrow_drop_up"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"div",6),t.ALo(15,"titlecase"),t.TgZ(16,"mat-icon"),t._uU(17,"arrow_drop_down"),t.qZA(),t._uU(18),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,8,i.title)),t.xp6(3),t.Q6J("results",i.chartData)("autoScale",!0)("scheme",i.chartScheme),t.xp6(4),t.Q6J("matTooltip",t.lcZ(10,10,i.getTooltipText("max"))),t.xp6(4),t.hij("",i.maxValue," "),t.xp6(1),t.Q6J("matTooltip",t.lcZ(15,12,i.getTooltipText("min"))),t.xp6(4),t.hij("",i.minValue," "))},directives:[A.Dw,_.gM,C.Hw],pipes:[l.rS],styles:["[_nghost-%COMP%]{flex:1;border-radius:16px;display:flex;padding:0;overflow:hidden;flex-direction:column}.chart-meta[_ngcontent-%COMP%]{padding-top:18px;padding-left:18px}.chart-meta[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{font-size:20px}.chart-wrapper[_ngcontent-%COMP%]{flex:1;max-height:calc(100% - 70px);margin-left:-1.6em;width:120%}.chart-wrapper[_ngcontent-%COMP%]     .line-highlight{display:block}.chart-details[_ngcontent-%COMP%]{padding:1px 18px 28px;display:flex;justify-content:space-between;margin-top:-.5em}.chart-measurement[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:20px}*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]}),n})(),nt=(()=>{class n{constructor(e,i){this.element=e,this.renderer=i,this.defaultElevation=2,this.raisedElevation=8,this.setElevation(this.defaultElevation)}onMouseEnter(){this.setElevation(this.raisedElevation)}onMouseLeave(){this.setElevation(this.defaultElevation)}ngOnChanges(e){this.setElevation(this.defaultElevation)}setElevation(e){Array.from(this.element.nativeElement.classList).filter(s=>s.startsWith("mat-elevation-z")).forEach(s=>{this.renderer.removeClass(this.element.nativeElement,s)}),this.renderer.addClass(this.element.nativeElement,`mat-elevation-z${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","hoverElevation",""]],hostBindings:function(e,i){1&e&&t.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{defaultElevation:"defaultElevation",raisedElevation:"raisedElevation"},features:[t.TTD]}),n})();var B=o(1095);let at=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-unit-snapshot"]],decls:5,vars:0,consts:[[1,"snapshot-wrapper"],["src","./assets/demo/sample-camera.png","alt","Snapshot"],["color","warn","matTooltip","Download Snapshot","mat-icon-button","",1,"download-button"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"button",2),t.TgZ(3,"mat-icon"),t._uU(4,"download"),t.qZA(),t.qZA(),t.qZA())},directives:[B.lW,_.gM,C.Hw],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;border-radius:16px;position:relative}.snapshot-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;border-radius:16px;overflow:hidden;padding:1em}.snapshot-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;border-radius:8px;flex:1}.snapshot-wrapper[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{position:absolute;bottom:1em;right:1em}"]}),n})();var it=o(2298),U=o(8002),h=o(687),d=o(5922);const L="adjust",N="water_drop";class O{static getUnitStateIcon(a){switch(a){case d.H.ALARM:return"notifications";case d.H.LOCKED:return"lock";case d.H.UNLOCKED:return"no_encryption"}}static getUnitStateColor(a){switch(a){case d.H.ALARM:return"red";case d.H.LOCKED:return"green";case d.H.UNLOCKED:return"blue"}}static getUnitStateText(a){switch(a){case d.H.ALARM:return"Alarm";case d.H.LOCKED:return"Locked";case d.H.UNLOCKED:return"Unlocked"}}static getDoorStateIcon(a){switch(a){case h.A.CLOSED:return"circle";case h.A.OPEN:return"trip_origin"}}static getDoorStateText(a){switch(a){case h.A.CLOSED:return"Closed";case h.A.OPEN:return"Open"}}static getDoorStateColor(a){switch(a){case h.A.CLOSED:return"red";case h.A.OPEN:return"green"}}static getTemperatureColor(a){return a>=90?"red":a<=32?"blue":"green"}static getHumidityColor(a){return a>=90?"red":"green"}static getDoorStateData(a){return{icon:this.getDoorStateIcon(a),text:this.getDoorStateText(a),iconColor:this.getDoorStateColor(a)}}static getUnitStateData(a){let e;return a===d.H.ALARM&&(e={icon:"error_outline",text:"An alarm has been tripped"}),{icon:this.getUnitStateIcon(a),text:this.getUnitStateText(a),iconColor:this.getUnitStateColor(a),badge:e}}static getTemperatureData(a){let e;return a>95?e={icon:L,text:"The temperature is above the specified threshold"}:a<31&&(e={icon:L,text:"The temperature is below the specified threshold"}),{icon:"thermostat",text:`${a} F`,iconColor:this.getTemperatureColor(a),badge:e}}static getHumidityData(a){let e;return a>95&&(e={icon:N,text:"The humidity level is above the specified threshold"}),{icon:N,text:`${a}%`,iconColor:this.getHumidityColor(a),badge:e}}}var gt=o(346);function mt(n,a){if(1&n&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.text)}}function ht(n,a){1&n&&t._UZ(0,"mat-spinner",7)}function vt(n,a){if(1&n&&(t.TgZ(0,"mat-icon",13),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.Akn(e.iconColorStyle),t.xp6(1),t.Oqu(e.icon)}}function Tt(n,a){1&n&&t._UZ(0,"mat-spinner",7)}function ft(n,a){if(1&n&&(t.YNc(0,vt,2,3,"mat-icon",11),t.ALo(1,"async"),t.YNc(2,Tt,1,0,"ng-template",null,12,t.W1O)),2&n){const e=t.MAs(3),i=t.oxw(2);t.Q6J("ngIf",t.lcZ(1,2,i.hasLoaded))("ngIfElse",e)}}function wt(n,a){}function Dt(n,a){if(1&n&&(t.TgZ(0,"div",14),t.YNc(1,wt,0,0,"ng-template",15),t.qZA()),2&n){t.oxw();const e=t.MAs(2),i=t.oxw();t.Q6J("matBadge",i.badge.icon)("matTooltip",i.badge.text),t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ct(n,a){}function _t(n,a){if(1&n&&(t.TgZ(0,"div",16),t.YNc(1,Ct,0,0,"ng-template",15),t.qZA()),2&n){t.oxw();const e=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function xt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ft,4,4,"ng-template",null,8,t.W1O),t.YNc(3,Dt,2,3,"div",9),t.YNc(4,_t,2,1,"div",10),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.badge),t.xp6(1),t.Q6J("ngIf",!e.badge)}}let Y=(()=>{class n{constructor(){this.showIcons=!0,this.indicatorClicked=e=>{this.clickable&&(this.ripple.launch(e.x,e.y),this.updateUnitData())},this.clickable=!1,this.updated=new t.vpe(!0),this.data=new it.t,this.hasLoaded=new f.X(!1)}set unitData(e){e&&this.data.next(e)}set type(e){this._indicatorType=e,this.title=e.toString().toLowerCase()}ngOnInit(){this.data.pipe((0,D.h)(e=>!!e),(0,Z.b)(e=>this._currentData=e),(0,U.U)(e=>{switch(this._indicatorType){case c.DOOR:return this.clickable=!0,O.getDoorStateData(e.doorState);case c.HUMIDITY:return O.getHumidityData(e.lastHumidity);case c.TEMP:return O.getTemperatureData(e.lastTemperature);case c.STATE:return this.clickable=!0,O.getUnitStateData(e.state)}})).subscribe(e=>{this.icon=e.icon,this.iconColorStyle=`color: ${(n=>{switch(n){case"green":return"#76ff03";case"red":return"#ff1744";case"blue":return"#65acf3";default:return"#000"}})(e.iconColor)};`,this.text=e.text,this.badge=e.badge,this.hasLoaded.next(!0)})}dataHasBadge(e){return!!e.badge&&e.badge.hasOwnProperty("icon")}updateUnitData(){switch(this._indicatorType){case c.DOOR:this.updateDoorState();break;case c.STATE:this.updateState()}this.data.next(this._currentData),this.updated.emit(this._currentData)}updateDoorState(){this._currentData.doorState=this._currentData.doorState===h.A.OPEN?h.A.CLOSED:h.A.OPEN}updateState(){switch(this._currentData.state){case d.H.UNLOCKED:case d.H.ALARM:this._currentData.state=d.H.LOCKED;break;case d.H.LOCKED:this._currentData.state=d.H.UNLOCKED}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-unit-indicator"]],viewQuery:function(e,i){if(1&e&&t.Gf(M.wG,5),2&e){let r;t.iGM(r=t.CRH())&&(i.ripple=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("click",function(s){return i.indicatorClicked(s)}),2&e&&t.ekj("clickable",i.clickable)},inputs:{unitData:"unitData",type:"type"},outputs:{updated:"updated"},decls:10,vars:8,consts:[[1,"indicator-text"],[1,"indicator-title"],["class","indicator-value",4,"ngIf","ngIfElse"],["textLoading",""],[4,"ngIf"],["matRipple","",1,"ripple-wrapper"],[1,"indicator-value"],["diameter","18"],["iconWrapper",""],["class","icon-wrapper has-badge","matBadgeOverlap","true","matBadgeSize","small","matTooltipPosition","after",3,"matBadge","matTooltip",4,"ngIf"],["class","icon-wrapper no-badge",4,"ngIf"],["inline","",3,"style",4,"ngIf","ngIfElse"],["iconLoading",""],["inline",""],["matBadgeOverlap","true","matBadgeSize","small","matTooltipPosition","after",1,"icon-wrapper","has-badge",3,"matBadge","matTooltip"],[3,"ngTemplateOutlet"],[1,"icon-wrapper","no-badge"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.YNc(4,mt,2,1,"span",2),t.ALo(5,"async"),t.YNc(6,ht,1,0,"ng-template",null,3,t.W1O),t.qZA(),t.YNc(8,xt,5,2,"ng-container",4),t._UZ(9,"div",5)),2&e){const r=t.MAs(7);t.xp6(2),t.Oqu(t.lcZ(3,4,i.title)),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,6,i.hasLoaded))("ngIfElse",r),t.xp6(4),t.Q6J("ngIf",i.showIcons)}},directives:[l.O5,M.wG,S.$g,C.Hw,gt.k,_.gM,l.tP],pipes:[l.rS,l.Ov],styles:['[_nghost-%COMP%]{border-radius:16px;display:flex;justify-content:center;align-items:center;margin:.8em 1.2em;padding:0 24px 4px;flex:1;overflow:hidden}.clickable[_nghost-%COMP%]{cursor:pointer}.icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:-2px;margin-top:6px;height:100%;border-radius:0;margin-right:-2em;width:4em;padding:.4rem 1.2em .4rem .5em}.icon-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;line-height:30px}.icon-wrapper.has-badge[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-family:"Material Icons",emoji;background-color:red;font-size:13px;line-height:17px;pointer-events:none}.indicator-text[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between;flex-direction:column;height:65%}.indicator-text[_ngcontent-%COMP%]   .indicator-title[_ngcontent-%COMP%]{margin-right:.4rem;vertical-align:middle;font-size:1rem}.indicator-text[_ngcontent-%COMP%]   .indicator-value[_ngcontent-%COMP%]{font-weight:500;font-size:1.8rem;vertical-align:middle}.ripple-wrapper[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:.8em;bottom:.8em;left:.8em;right:.8em;overflow:hidden;border-radius:16px}*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}']}),n})();function Ot(n,a){if(1&n&&(t.TgZ(0,"mat-grid-tile",12),t._UZ(1,"app-unit-chart",13),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("defaultElevation",0)("raisedElevation",5)("type",e)("unit",i.unit)}}function yt(n,a){if(1&n&&(t.TgZ(0,"mat-grid-list",10),t.YNc(1,Ot,2,4,"mat-grid-tile",11),t.qZA()),2&n){const e=t.oxw();t.Q6J("@chartsTrigger","true"),t.xp6(1),t.Q6J("ngForOf",e.unitCharts)}}function Zt(n,a){1&n&&(t.TgZ(0,"div",14),t._UZ(1,"app-unit-snapshot"),t.qZA()),2&n&&t.Q6J("@snapshotTrigger","true")}function Mt(n,a){if(1&n&&(t.TgZ(0,"mat-grid-tile",15),t._UZ(1,"app-unit-indicator",16),t.ALo(2,"async"),t.qZA()),2&n){const e=a.$implicit,i=t.oxw();t.xp6(1),t.Q6J("defaultElevation",0)("raisedElevation",5)("type",e)("unitData",t.lcZ(2,4,i.unitData))}}let At=(()=>{class n{constructor(e){this.unitsService=e,this.showShadow=!0,this.toggleOptions=[{value:"charts",text:"Charts",icon:"show_chart"},{value:"snapshot",text:"Snapshot",icon:"camera"}],this.unitIndicators=[c.HUMIDITY,c.TEMP,c.STATE,c.DOOR],this.unitCharts=[p.HUMIDITY,p.TEMPERATURE],this._unitData=new f.X(null),this.unitData=this._unitData.pipe((0,D.h)(i=>!!i)),this.toggleSelected=this.toggleOptions[0]}set unit(e){e&&(this._unit=e,this.unitsService.getUnitData(e).subscribe(this._unitData))}get unit(){return this._unit}ngOnInit(){}get selected(){return this.toggleSelected.value}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-unit-preview"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("mat-elevation-z3",i.showShadow)},inputs:{unit:"unit",showShadow:"showShadow"},decls:15,vars:8,consts:[[1,"unit-card"],[1,"unit-card-header"],[1,"header-text"],[1,"header-right"],[3,"options","selected","selectedChange"],[1,"carousel-wrapper",3,"ngSwitch"],["class","chart-grid","cols","2","gutterSize","0px","rowHeight","360px",4,"ngSwitchCase"],["class","unit-snapshot-wrapper",4,"ngSwitchCase"],["cols","2","rowHeight","100px","gutterSize","0",1,"indicator-grid"],["class","unit-indicator-tile",4,"ngFor","ngForOf"],["cols","2","gutterSize","0px","rowHeight","360px",1,"chart-grid"],["class","chart-tile",4,"ngFor","ngForOf"],[1,"chart-tile"],["hoverElevation","",3,"defaultElevation","raisedElevation","type","unit"],[1,"unit-snapshot-wrapper"],[1,"unit-indicator-tile"],["hoverElevation","",3,"defaultElevation","raisedElevation","type","unitData"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",3),t.TgZ(8,"app-toggle-button",4),t.NdJ("selectedChange",function(s){return i.toggleSelected=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"mat-card-content"),t.TgZ(10,"div",5),t.YNc(11,yt,2,2,"mat-grid-list",6),t.YNc(12,Zt,2,1,"div",7),t.qZA(),t.TgZ(13,"mat-grid-list",8),t.YNc(14,Mt,3,6,"mat-grid-tile",9),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",i.unit.name," "),t.xp6(2),t.hij(" ",i.unit.location," "),t.xp6(2),t.Q6J("options",i.toggleOptions)("selected",i.toggleSelected),t.xp6(2),t.Q6J("ngSwitch",i.selected),t.xp6(1),t.Q6J("ngSwitchCase","charts"),t.xp6(1),t.Q6J("ngSwitchCase","snapshot"),t.xp6(2),t.Q6J("ngForOf",i.unitIndicators))},directives:[g.a8,g.n5,g.$j,X,g.dn,l.RF,l.n9,v.Il,l.sg,v.DX,H,nt,at,Y],pipes:[l.Ov],styles:["[_nghost-%COMP%]{margin:1em;display:flex;border-radius:16px;overflow:hidden;flex-direction:column}.mat-card[_ngcontent-%COMP%]{flex:1;padding:1em;border-width:0;border-style:solid;box-shadow:none!important}.unit-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.unit-card[_ngcontent-%COMP%]     .mat-card-content{flex:1;display:flex;flex-direction:column}.unit-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:1.6rem;margin-right:.7rem;padding-top:10px}.unit-card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{flex:1}.unit-card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{margin-bottom:12px;display:block;font-size:20px}.unit-card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:-8px}.indicator-grid[_ngcontent-%COMP%]{margin-top:1em}*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.chart-tile[_ngcontent-%COMP%]   app-unit-chart[_ngcontent-%COMP%]{margin:.8em}.unit-indicator-tile[_ngcontent-%COMP%]{margin-top:-1em}.unit-indicator-tile[_ngcontent-%COMP%]   app-unit-indicator[_ngcontent-%COMP%]{margin:.8em}.carousel-wrapper[_ngcontent-%COMP%]{height:360px}.unit-snapshot-wrapper[_ngcontent-%COMP%]{margin:.8em;height:95%}"],data:{animation:[(0,u.X$)("chartsTrigger",[(0,u.SB)("true",(0,u.oB)({opacity:"1",transform:"translateX(0)"})),(0,u.eR)("void => *",[(0,u.oB)({opacity:"0",transform:"translateX(-50%)"}),(0,u.jt)("250ms ease-in-out")])]),(0,u.X$)("snapshotTrigger",[(0,u.SB)("true",(0,u.oB)({opacity:"1",transform:"translateX(0)"})),(0,u.eR)("void => *",[(0,u.oB)({opacity:"0",transform:"translateX(50%)"}),(0,u.jt)("250ms ease-in-out")])])]}}),n})();function Ut(n,a){1&n&&t._UZ(0,"app-loading-shade")}function Pt(n,a){if(1&n&&(t.TgZ(0,"mat-grid-tile",5),t._UZ(1,"app-unit-preview",6),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("unit",e)}}let bt=(()=>{class n{constructor(e){this.unitsService=e,this.isLoading=new f.X(!0),this.units=this.unitsService.getUnits().pipe((0,Z.b)(()=>this.isLoading.next(!1)))}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-units-grid"]],decls:7,vars:6,consts:[[1,"units-grid-inner"],[4,"ngIf"],[1,"grid-list-wrapper"],["cols","2","rowHeight","675px","gutterSize","0px"],["class","unit-tile",4,"ngFor","ngForOf"],[1,"unit-tile"],[3,"unit"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ut,1,0,"app-loading-shade",1),t.ALo(2,"async"),t.TgZ(3,"div",2),t.TgZ(4,"mat-grid-list",3),t.YNc(5,Pt,2,1,"mat-grid-tile",4),t.ALo(6,"async"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,i.isLoading)),t.xp6(4),t.Q6J("ngForOf",t.lcZ(6,4,i.units)))},directives:[l.O5,v.Il,l.sg,k,v.DX,At],pipes:[l.Ov],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.units-grid-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.6em;font-weight:500}.unit-tile[_ngcontent-%COMP%]  .mat-grid-tile-content{flex-direction:column;justify-content:unset!important;align-items:unset!important}.grid-list-wrapper[_ngcontent-%COMP%]{margin-top:1em}"]}),n})();var St=o(6682),It=o(9761),q=o(3190),Et=o(5304),Q=o(1494),J=o(7082),m=o(2789);function Ht(n,a){1&n&&(t.TgZ(0,"th",10),t._uU(1,"Credential"),t.qZA())}function Bt(n,a){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.credential)}}function Lt(n,a){1&n&&(t.TgZ(0,"th",10),t._uU(1,"Accessed At"),t.qZA())}function Nt(n,a){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.date))}}function Yt(n,a){1&n&&(t.TgZ(0,"th",10),t._uU(1,"Unit"),t.qZA())}function qt(n,a){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.unitName)}}function Qt(n,a){1&n&&t._UZ(0,"tr",12)}function Jt(n,a){1&n&&t._UZ(0,"tr",13)}let Ft=(()=>{class n{constructor(e){this.unitsService=e,this.isLoading=!0,this.displayedColumns=["credential","date","unit"],this.accessHistoryData=[],this.total=0}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,St.T)(this.sort.sortChange,this.paginator.page).pipe((0,It.O)({}),(0,q.w)(()=>(this.isLoading=!0,this.unitsService.getUnitAccessHistory().pipe((0,Et.K)(()=>(0,x.of)([]))))),(0,U.U)(e=>(this.isLoading=!1,null===e?[]:(this.total=e.length,e)))).subscribe(e=>this.accessHistoryData=e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-access-history"]],viewQuery:function(e,i){if(1&e&&(t.Gf(J.NW,5),t.Gf(Q.YE,5)),2&e){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first),t.iGM(r=t.CRH())&&(i.sort=r.first)}},inputs:{unit:"unit"},decls:14,vars:5,consts:[[1,"access-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"access-table",3,"dataSource"],["matColumnDef","credential"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","unit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"table",1),t.ynx(2,2),t.YNc(3,Ht,2,0,"th",3),t.YNc(4,Bt,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Lt,2,0,"th",3),t.YNc(7,Nt,3,3,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,Yt,2,0,"th",3),t.YNc(10,qt,2,1,"td",4),t.BQk(),t.YNc(11,Qt,1,0,"tr",7),t.YNc(12,Jt,1,0,"tr",8),t.qZA(),t.qZA(),t._UZ(13,"mat-paginator",9)),2&e&&(t.xp6(1),t.Q6J("dataSource",i.accessHistoryData),t.xp6(10),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.total)("pageSize",30))},directives:[m.BZ,Q.YE,m.w1,m.fO,m.Dz,m.as,m.nj,J.NW,m.ge,m.ev,m.XQ,m.Gk],pipes:[l.uU],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;border-radius:8px;overflow:hidden}.access-table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),Rt=(()=>{class n{constructor(e){this.pageTitleService=e}ngOnInit(){this.pageTitleService.title="Dashboard"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-client-dashboard"]],decls:12,vars:0,consts:[[1,"section"],[1,"section-title"],[1,"section-content"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"span"),t._uU(3,"Units"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"app-units-grid"),t.qZA(),t.qZA(),t.TgZ(6,"div",0),t.TgZ(7,"div",1),t.TgZ(8,"span"),t._uU(9,"Access History"),t.qZA(),t.qZA(),t.TgZ(10,"div",2),t._UZ(11,"app-access-history"),t.qZA(),t.qZA())},directives:[bt,Ft],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:2.5em;flex:1}.section[_ngcontent-%COMP%]{margin-top:1.5em}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:1em}.section[_ngcontent-%COMP%]:first-child{margin-top:0!important}.section[_ngcontent-%COMP%]:first-child   .section-title[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),n})();var T=o(4655),kt=o(2271);function jt(n,a){if(1&n&&(t.TgZ(0,"mat-grid-tile",6),t._UZ(1,"app-unit-chart",7),t.qZA()),2&n){const e=a.$implicit,i=t.oxw().ngIf;t.xp6(1),t.Q6J("type",e)("unit",i)}}function zt(n,a){if(1&n&&(t.TgZ(0,"mat-grid-tile",8),t._UZ(1,"app-unit-indicator",9),t.ALo(2,"async"),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("type",e)("unitData",t.lcZ(2,2,i.unitData))}}function $t(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-card",1),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"mat-card-content",2),t.TgZ(8,"mat-grid-list",3),t.YNc(9,jt,2,2,"mat-grid-tile",4),t.YNc(10,zt,3,4,"mat-grid-tile",5),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=a.ngIf,i=t.oxw();t.xp6(4),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.location," "),t.xp6(3),t.Q6J("ngForOf",i.unitCharts),t.xp6(1),t.Q6J("ngForOf",i.unitIndicators)}}let Xt=(()=>{class n{constructor(e,i){this.activatedRoute=e,this.unitsService=i,this.unitIndicators=[c.HUMIDITY,c.TEMP,c.STATE,c.DOOR],this.unitCharts=[p.HUMIDITY,p.TEMPERATURE],this._unitData=new f.X(null),this.unit=this.activatedRoute.data.pipe((0,U.U)(r=>r.unit),(0,Z.b)(r=>this.unitsService.getUnitData(r).subscribe(this._unitData))),this.unitData=this._unitData.pipe((0,D.h)(r=>!!r))}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.gz),t.Y36(w.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-client-unit"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"mat-elevation-z0","unit-card"],[1,"unit-content"],["cols","2","rowHeight","150px","gutterSize","10px"],["class","chart-tile","rowspan","3",4,"ngFor","ngForOf"],["class","unit-indicator-tile",4,"ngFor","ngForOf"],["rowspan","3",1,"chart-tile"],[3,"type","unit"],[1,"unit-indicator-tile"],[3,"type","unitData"]],template:function(e,i){1&e&&(t.YNc(0,$t,11,4,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.unit))},directives:[l.O5,g.a8,g.dk,g.n5,g.$j,g.dn,v.Il,l.sg,v.DX,H,Y],pipes:[l.Ov],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.unit-content[_ngcontent-%COMP%]{padding:15px}.unit-content[_ngcontent-%COMP%]   .unit-indicator-tile[_ngcontent-%COMP%]     .mat-grid-tile-content{justify-content:unset!important;align-items:unset!important}"]}),n})();var F=o(4402);let Gt=(()=>{class n{constructor(e,i){this.unitsService=e,this.router=i}resolve(e,i){const r=Number(e.paramMap.get("id"));return isNaN(r)?(0,F.D)(this.router.navigate(["client","dashboard"])):this.unitsService.getUnit(r).pipe((0,q.w)(s=>s?(0,x.of)(s):(0,F.D)(this.router.navigate(["client","dashboard"]))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(w.X),t.LFG(T.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var y=o(3017);let Kt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-payment-method"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"payment-method works!"),t.qZA())},styles:["[_nghost-%COMP%]{padding:1.5em;border-radius:8px}"]}),n})();function Wt(n,a){if(1&n&&(t.TgZ(0,"h3",8),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.subtitle)}}function Vt(n,a){if(1&n&&(t.TgZ(0,"button",9),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("color",e.color)("routerLink",e.routerLink),t.xp6(1),t.hij(" ",e.actionTitle," ")}}let te=(()=>{class n{constructor(){this.actionTitle="Go to",this.showBorders=!1,this.showBackground=!1,this.showShadow=!0}set amount(e){this._amount=Number(e)}ngOnInit(){}get amountString(){return`${this._amount}`.replace("$","")}get dollars(){return this.amountString.split(".")[0]}get cents(){return this.amountString.split(".")[1]||"00"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-billing-card"]],hostVars:6,hostBindings:function(e,i){2&e&&t.ekj("show-borders",i.showBorders)("show-background",i.showBackground)("mat-elevation-z3",i.showShadow)},inputs:{title:"title",subtitle:"subtitle",routerLink:"routerLink",actionTitle:"actionTitle",showBorders:"showBorders",showBackground:"showBackground",showShadow:"showShadow",amount:"amount",color:"color"},decls:11,vars:5,consts:[[1,"background-overlay"],["class","subtitle",4,"ngIf"],[1,"amount"],[1,"dollar-amount"],[1,"cents-amount"],[1,"title"],[1,"button-wrapper"],["mat-flat-button","",3,"color","routerLink",4,"ngIf"],[1,"subtitle"],["mat-flat-button","",3,"color","routerLink"]],template:function(e,i){1&e&&(t._UZ(0,"div",0),t.YNc(1,Wt,2,1,"h3",1),t.TgZ(2,"div",2),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.TgZ(5,"span",4),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"h1",5),t._uU(8),t.qZA(),t.TgZ(9,"div",6),t.YNc(10,Vt,2,3,"button",7),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!!i.subtitle),t.xp6(3),t.hij("$",i.dollars,""),t.xp6(2),t.hij(".",i.cents,""),t.xp6(2),t.Oqu(i.title),t.xp6(2),t.Q6J("ngIf",!!i.routerLink))},directives:[l.O5,B.lW,T.rH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:16px;padding:2em 2.8em;position:relative;overflow:hidden}.show-borders[_nghost-%COMP%]{border-width:2px;border-style:solid}.title[_ngcontent-%COMP%]{font-size:24px;margin-top:.6em}.amount[_ngcontent-%COMP%]{display:flex;align-items:baseline;margin-top:1.8em}.amount[_ngcontent-%COMP%]   .dollar-amount[_ngcontent-%COMP%], .amount[_ngcontent-%COMP%]   .cents-amount[_ngcontent-%COMP%]{font-weight:bold}.amount[_ngcontent-%COMP%]   .dollar-amount[_ngcontent-%COMP%]{font-size:48px}.amount[_ngcontent-%COMP%]   .cents-amount[_ngcontent-%COMP%]{font-size:28px}.subtitle[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.button-wrapper[_ngcontent-%COMP%]{margin-top:1em}.subtitle[_ngcontent-%COMP%], .amount[_ngcontent-%COMP%], .title[_ngcontent-%COMP%], .button-wrapper[_ngcontent-%COMP%]{z-index:2}.background-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none}"]}),n})();const ee=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",component:Rt},{path:"unit/:id",component:Xt,resolve:{unit:Gt}},{path:"billing",component:(()=>{class n{constructor(e){this.pageTitleService=e}ngOnInit(){this.pageTitleService.title="Billing"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-client-billing"]],decls:12,vars:2,consts:[[1,"billing-container"],["mode","side","position","end","opened",""],[1,"billing-sidebar"],[1,"billing-main"],[1,"title"],[1,"billing-info"],["amount","228.55","subtitle","Upcoming Bill","title","by June 12th, 2022","actionTitle","Manage Payment","routerLink","/manage/payment","color","primary",3,"showBackground"],["amount","165.22","subtitle","Last Payment","title","on May 12th, 2022","actionTitle","View Details","routerLink","/billing/history/last","color","accent",3,"showBorders"],[1,"billing-history"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-drawer-container",0),t.TgZ(1,"mat-drawer",1),t.TgZ(2,"div",2),t._UZ(3,"app-payment-method"),t.qZA(),t.qZA(),t.TgZ(4,"mat-drawer-content"),t.TgZ(5,"div",3),t.TgZ(6,"h1",4),t._uU(7,"Billing Details"),t.qZA(),t.TgZ(8,"div",5),t._UZ(9,"app-billing-card",6),t._UZ(10,"app-billing-card",7),t.qZA(),t._UZ(11,"div",8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("showBackground",!0),t.xp6(1),t.Q6J("showBorders",!0))},directives:[y.kh,y.jA,Kt,y.LW,te,T.rH],styles:["[_nghost-%COMP%]{flex:1;display:flex}.billing-container[_ngcontent-%COMP%]{flex:1}.billing-sidebar[_ngcontent-%COMP%]{padding:1.2em;display:flex;flex-direction:column}.billing-main[_ngcontent-%COMP%]{padding:2.5em;display:flex;flex-direction:column}.billing-main[_ngcontent-%COMP%]   .billing-info[_ngcontent-%COMP%]{display:flex;flex-direction:row}.billing-main[_ngcontent-%COMP%]   .billing-info[_ngcontent-%COMP%]   app-billing-card[_ngcontent-%COMP%]{flex:1;margin-left:1em;margin-right:1em;background-repeat:no-repeat}.billing-main[_ngcontent-%COMP%]   .billing-info[_ngcontent-%COMP%]   app-billing-card[_ngcontent-%COMP%]:first-child{margin-left:0;background-position-x:right}.billing-main[_ngcontent-%COMP%]   .billing-info[_ngcontent-%COMP%]   app-billing-card[_ngcontent-%COMP%]:last-child{margin-right:0;background-position-x:left}"]}),n})()}];let ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,T.Bz.forChild(ee),kt.m,g.QW,v.N6,y.SJ],T.Bz]}),n})()}}]);