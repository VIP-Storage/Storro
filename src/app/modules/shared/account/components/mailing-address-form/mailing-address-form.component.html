<form [formGroup]="mailingAddressFormGroup" class="address-group" *ngIf="googleAvailable">
  <mat-form-field appearance="outline" floatLabel="always">
    <mat-label>Search</mat-label>
    <input ngx-google-places-autocomplete (onAddressChange)="addressChanged($event)" matInput
           placeholder="123 N. Main Street" autocomplete="off">
    <mat-hint>Search for your address using the field above or manually enter it below</mat-hint>
  </mat-form-field>

  <mat-divider></mat-divider>

  <mat-form-field appearance="outline" floatLabel="always">
    <mat-label>Street Address</mat-label>
    <input matInput placeholder="123 N. Main Street" [formControl]="streetAddress" required
           autocomplete="address-line1">
    <mat-error *ngIf="streetAddress.invalid">{{getErrorMessage(streetAddress)}}</mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" floatLabel="always">
    <mat-label>City</mat-label>
    <input matInput placeholder="Pleasantville" [formControl]="city" required autocomplete="address-level2">
    <mat-error *ngIf="city.invalid">{{getErrorMessage(city)}}</mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" floatLabel="always">
    <mat-label>State</mat-label>
    <mat-select [formControl]="state" placeholder="California">
      <mat-option *ngFor="let state of allStates" [value]="state.abbreviation">{{state.name}}</mat-option>
    </mat-select>
    <mat-error *ngIf="state.invalid">{{getErrorMessage(state)}}</mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" floatLabel="always">
    <mat-label>ZIP Code</mat-label>
    <input matInput placeholder="12345" [formControl]="zipCode" mask="00000" required autocomplete="postal-code">
    <mat-error *ngIf="zipCode.invalid">{{getErrorMessage(zipCode, 'ZIP Code')}}</mat-error>
  </mat-form-field>
</form>
